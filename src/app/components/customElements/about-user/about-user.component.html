<mat-card class="container about-user-container">
  <div *ngIf="Edit; then EditMode else DisplayMode"></div>
  <ng-template #DisplayMode>
    <div class="row">
      <div class="col-3"><b>Nombre completo: </b></div>
      <div class="col">{{User?.DisplayName}}</div>
    </div>
    <div class="row">
      <div class="col-3"><b>Direccion de correo: </b></div>
      <div class="col">{{User?.Email}}</div>
    </div>
    <div class="row">
      <div class="col-3"><b>Genero: </b></div>
      <div class="col">{{User?.Gender}}</div>
    </div>
    <div class="row">
      <div class="col-3"><b>Calle: </b></div>
      <div class="col">{{User?.Street}}</div>
    </div>
    <div class="row">
      <div class="col-3"><b>Altura: </b></div>
      <div class="col">{{User?.Number}}</div>
    </div>
    <div class="row">
      <div class="col-3"><b>Piso: </b></div>
      <div class="col">{{User?.Floor}}</div>
    </div>
    <div class="row">
      <div class="col-3"><b>Departamento: </b></div>
      <div class="col">{{User?.Dpto}}</div>
    </div>
    <div class="row">
      <div class="col-3"><b>Barrio: </b></div>
      <div class="col">{{User?.Neighborhood}}</div>
    </div>
    <div class="row">
      <div class="col-3"><b>Ciudad: </b></div>
      <div class="col">{{User?.City}}</div>
    </div>
    <div class="row">
      <div class="col-3"><b>Fecha Nacimiento: </b></div>
      <div class="col">{{User?.DOB | date}}</div>
    </div>
    <!--Estos atributos corresponden a profesional, no deberian verse en el perfil de usuario
    CONSULTAR CON TITO-->
    <div class="row">
      <div class="col-3"><b> Tipo de Servicio: </b></div>
      <div class="col">{{User?.TipoServicioProfesional}}</div>
    </div>
    <div class="row">
      <div class="col-3"><b> Modalidad de Trabajo: </b></div>
      <div class="col">{{User?.ModalidadTrabajoProfesional}}</div>
    </div>
    <div class="row">
      <div class="col-3"><b> Nombre Comercial/ Local: </b></div>
      <div class="col">{{User?.NombreComercial}}</div>
    </div>
    <div class="row">
      <div class="col-3"><b> TÃ©lefono Comercial: </b></div>
      <div class="col">{{User?.PhoneNumber}}</div>
    </div>
  </ng-template>

  <!-- Edit mode -->
  <ng-template #EditMode>
    <div class="controls-container">

      <div class="row">
        <mat-form-field>
          <input matInput [(ngModel)]="DisplayName" value="{{User?.DisplayName}}" placeholder="Nombre completo">
          <button mat-button (click)="Update({DisplayName:DisplayName});"
            *ngIf="DisplayName != User?.DisplayName && DisplayName!=''" matSuffix mat-icon-button>
            <i style="margin: 5px;" class="fal fa-check-circle"></i>
          </button>
        </mat-form-field>
      </div>

      <div class="row">
        <mat-form-field>
          <input matInput [(ngModel)]="About" value="{{User?.About}}" placeholder="Acerca de">
          <button mat-button (click)="Update({About:About});" *ngIf="About != User?.About && About!=''" matSuffix
            mat-icon-button>
            <i style="margin: 5px;" class="fal fa-check-circle"></i>
          </button>
        </mat-form-field>
      </div>

      <div class="row">
        <mat-form-field>
          <input matInput [(ngModel)]="Email" value="{{User?.Email}}" [readonly]="User?.Provider=='Password'"
            placeholder="Email">
          <button mat-button (click)="Update({Email:Email});" *ngIf="Email != User?.Email && Email!=''" matSuffix
            mat-icon-button>
            <i style="margin: 5px;" class="fal fa-check-circle"></i>
          </button>
        </mat-form-field>

      </div>
      <div class="row">
        <mat-form-field>
          <input matInput [(ngModel)]="PhoneNumber" value="{{User?.PhoneNumber}}" type="tel" placeholder="Telefono">
          <button mat-button (click)="Update({PhoneNumber:PhoneNumber});"
            *ngIf="PhoneNumber != User?.PhoneNumber && PhoneNumber!=''" matSuffix mat-icon-button>
            <i style="margin: 5px;" class="fal fa-check-circle"></i>
          </button>
        </mat-form-field>
      </div>

      <div class="row">
        <mat-form-field>
          <mat-select placeholder="Genero" [(ngModel)]="Gender">
            <mat-option value="Masculino">Masculino</mat-option>
            <mat-option value="Femenino">Femenino</mat-option>
          </mat-select>
          <button mat-button (click)="Update({Gender:Gender});" *ngIf="Gender != User?.Gender" matSuffix
            mat-icon-button>
            <i style="margin: 5px;" class="fal fa-check-circle"></i>
          </button>
        </mat-form-field>
      </div>

      <div class="row">
        <mat-form-field>
          <input matInput [matDatepicker]="dp" [(ngModel)]="DOB" value="{{User?.DOB}}" placeholder="Fecha Nacimiento">
          <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
          <mat-datepicker #dp></mat-datepicker>
          <button mat-button (click)="Update({DOB:DOB});" *ngIf="DOB != User?.DOB && DOB!=''" matSuffix mat-icon-button>
            <i style="margin: 5px;" class="fal fa-check-circle"></i>
          </button>
        </mat-form-field>
      </div>

      <div class="row form-align">
        <mat-form-field>
          <mat-select placeholder="Estado civil" [(ngModel)]="Status">
            <mat-option value="Single">Solter@</mat-option>
            <mat-option value="Engaged">En relacion</mat-option>
            <mat-option value="Married">Comprometid@</mat-option>
          </mat-select>
        </mat-form-field>
        <button mat-button (click)="Update({Status:Status});" *ngIf="Status != User?.Status && Status!=''" matSuffix
          mat-icon-button>
          <i style="margin: 5px;" class="fal fa-check-circle"></i>
        </button>
      </div>

      <div class="row">
        <mat-form-field>
          <mat-label>Vive en</mat-label>
          <mat-select [(ngModel)]="LivesIn">
            <mat-option>-- None --</mat-option>
            <mat-optgroup *ngFor="let State of CitiesAndStates.StatesCities" [label]="State.State">
              <mat-option *ngFor="let City of State.Cities" [value]="City">
                {{City}}
              </mat-option>
            </mat-optgroup>
          </mat-select>
        </mat-form-field>
        <button mat-button (click)="Update({LivesIn:LivesIn});" *ngIf="LivesIn != User?.LivesIn && LivesIn!=''"
          matSuffix mat-icon-button>
          <i style="margin: 5px;" class="fal fa-check-circle"></i>
        </button>
      </div>

      <div class="row">
        <mat-form-field>
          <input matInput [(ngModel)]="Interests" placeholder="Intereses">
          <button mat-button (click)="Update({Interests:Interests});"
            *ngIf="Interests != User?.Interests && Interests!=''" matSuffix mat-icon-button>
            <i style="margin: 5px;" class="fal fa-check-circle"></i>
          </button>
        </mat-form-field>
      </div>
      
    </div>
  </ng-template>
  <div *ngIf="MyAuth.LoggedUser?.Id === User?.Id" class="div-right">
    <button (click)="Edit=!Edit;" mat-mini-fab style="background: #c3ff73;"><i class="fal fa-user-edit"></i></button>
  </div>
</mat-card>