{"version":3,"sources":["./src/app/Modules/FeatureModules/search.module.ts","./src/app/components/search/search.component.css","./src/app/components/customElements/mini-user-card/mini-user-card.component.css","./src/app/components/search/search.component.ts","./src/app/Modules/FeatureRoutings/search-routing.module.ts","./src/app/components/customElements/mini-user-card/mini-user-card.component.ts","./src/app/components/search/search.component.html","./src/app/components/customElements/mini-user-card/mini-user-card.component.html"],"names":[],"mappings":"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","file":"FeatureModules-search-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SearchComponent } from 'src/app/components/search/search.component';\r\nimport { MiniUserCardComponent } from 'src/app/components/customElements/mini-user-card/mini-user-card.component';\r\nimport { SharedModule } from '../shared.module';\r\nimport { AppDialogsModule } from '../app-dialogs.module';\r\nimport { MaterialModule2 } from '../Material.module';\r\nimport { SearchRoutingModule } from '../FeatureRoutings/search-routing.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SearchComponent,\r\n    MiniUserCardComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    AppDialogsModule,\r\n    SearchRoutingModule,\r\n\r\n    // Material Modules\r\n    MaterialModule2\r\n  ]\r\n})\r\nexport class SearchModule { }\r\n","export default \".users-container {\\r\\n    margin: 8px 0;\\r\\n}\\r\\n\\r\\n#people-card {\\r\\n    margin-top: 4px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGVBQWU7QUFDbkIiLCJmaWxlIjoic2VhcmNoLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudXNlcnMtY29udGFpbmVyIHtcclxuICAgIG1hcmdpbjogOHB4IDA7XHJcbn1cclxuXHJcbiNwZW9wbGUtY2FyZCB7XHJcbiAgICBtYXJnaW4tdG9wOiA0cHg7XHJcbn0iXX0= */\";","export default \".user-name-box {\\r\\n    margin: 3px 0;\\r\\n}\\r\\n\\r\\n.user-name {}\\r\\n\\r\\n.user-box {\\r\\n    border: 1px transparent;\\r\\n    border-radius: 5px;\\r\\n    padding: 3px 0;\\r\\n    color: #5c4ca2;\\r\\n}\\r\\n\\r\\n.user-pic {\\r\\n    height: 48px;\\r\\n    width: 48px;\\r\\n    -o-object-fit: cover;\\r\\n       object-fit: cover;\\r\\n    border-radius: 10px;\\r\\n}\\r\\n\\r\\n.btn-action-mobile {\\r\\n    line-height: 1.2;\\r\\n    margin-top: 3px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pbmktdXNlci1jYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBLFlBQVk7O0FBRVo7SUFDSSx1QkFBdUI7SUFDdkIsa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLFdBQVc7SUFDWCxvQkFBaUI7T0FBakIsaUJBQWlCO0lBQ2pCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixlQUFlO0FBQ25CIiwiZmlsZSI6Im1pbmktdXNlci1jYXJkLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudXNlci1uYW1lLWJveCB7XHJcbiAgICBtYXJnaW46IDNweCAwO1xyXG59XHJcblxyXG4udXNlci1uYW1lIHt9XHJcblxyXG4udXNlci1ib3gge1xyXG4gICAgYm9yZGVyOiAxcHggdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBwYWRkaW5nOiAzcHggMDtcclxuICAgIGNvbG9yOiAjNWM0Y2EyO1xyXG59XHJcblxyXG4udXNlci1waWMge1xyXG4gICAgaGVpZ2h0OiA0OHB4O1xyXG4gICAgd2lkdGg6IDQ4cHg7XHJcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbn1cclxuXHJcbi5idG4tYWN0aW9uLW1vYmlsZSB7XHJcbiAgICBsaW5lLWhlaWdodDogMS4yO1xyXG4gICAgbWFyZ2luLXRvcDogM3B4O1xyXG59Il19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { MyAuthService } from 'src/app/Services/my-auth.service';\r\nimport { IUser } from 'src/app/Models/i-user';\r\nimport { Observable } from 'rxjs';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { tap, map } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-search',\r\n  templateUrl: './search.component.html',\r\n  styleUrls: ['./search.component.css']\r\n})\r\nexport class SearchComponent implements OnInit {\r\n  PeopleResults$: Observable<IUser[]>;\r\n  PeopleResults: IUser[];\r\n  FilteredResults: IUser[];\r\n  QueryForm: FormGroup;\r\n\r\n  constructor(\r\n    public MyAuth: MyAuthService,\r\n    private fb: FormBuilder,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.QueryForm = this.fb.group({\r\n      Query: ''\r\n      //  ['', [Validators.minLength(3), Validators.required]]\r\n    })\r\n\r\n    this.PeopleResults$ = this.MyAuth.GetAllProfesionalsFromStore()\r\n      .pipe(\r\n        map(r => {\r\n          return r.filter(user => {\r\n            // return user.Id != this.MyAuth.LoggedUser.Id;\r\n            return user.Id != this.MyAuth.LoggedUser.Id;\r\n          })\r\n        }),\r\n        tap(r => {\r\n          this.PeopleResults = r;\r\n          this.FilteredResults = r;\r\n        })\r\n      )\r\n\r\n    this.QueryForm.controls.Query.valueChanges.subscribe((q: string) => {\r\n      if (q == '') {\r\n        this.FilteredResults = this.PeopleResults;\r\n      }\r\n      else {\r\n        this.FilteredResults = this.PeopleResults.filter(users => {\r\n          const DisplayName = users.DisplayName.toLowerCase()\r\n\r\n          return DisplayName.includes(q.toLowerCase())\r\n        });\r\n      }\r\n    })\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { SearchComponent } from 'src/app/components/search/search.component';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\n\r\nconst routes: Routes = [{\r\n  path: '',\r\n  component: SearchComponent,\r\n  canActivate: [AuthGuard]\r\n}]\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class SearchRoutingModule { }\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { IUser, IFollow } from 'src/app/Models/i-user';\r\nimport { Observable } from 'rxjs';\r\nimport { MyAuthService } from 'src/app/Services/my-auth.service';\r\nimport { FollowService } from 'src/app/Services/follow.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ConfirmationDialogComponent } from '../../Dialogs/confirmation-dialog/confirmation-dialog.component';\r\nimport { ProfilePicUpdateDialogComponent } from '../../Dialogs/profile-pic-update-dialog/profile-pic-update-dialog.component';\r\n\r\n@Component({\r\n  selector: 'element-mini-user-card',\r\n  templateUrl: './mini-user-card.component.html',\r\n  styleUrls: ['./mini-user-card.component.css']\r\n})\r\nexport class MiniUserCardComponent implements OnInit {\r\n  @Input() User: IUser;\r\n  Following$: Observable<IFollow>\r\n\r\n  constructor(public MyAuth: MyAuthService,\r\n    public followSrv: FollowService,\r\n    public dialog: MatDialog) { }\r\n\r\n  ngOnInit() {\r\n    this.Following$ = this.followSrv.GetFollowStatus(this.User.Id);\r\n  }\r\n\r\n  FollowThisUser() {\r\n    this.followSrv.FollowAUser(this.User.Id, this.User.DisplayName, this.User.PhotoURL).then(r => {\r\n      console.log(r)\r\n    })\r\n  }\r\n\r\n  UnfollowThisUser() {\r\n    const confirmationDialogRef = this.MyAuth.Dialogs.open(ConfirmationDialogComponent, {\r\n      data: {\r\n        Title: 'Dejar de seguir',\r\n        Message: `¿Dejar de seguir? ${this.User.DisplayName}?`\r\n      }\r\n    })\r\n\r\n    confirmationDialogRef.afterClosed().subscribe(res => {\r\n      if (res) {\r\n        this.followSrv.UnfollowAUser(this.User.Id).then(r => {\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  openProfilePicUpdateDialog(): void {\r\n    const dialogRef = this.dialog.open(ProfilePicUpdateDialogComponent, {\r\n      //width: '250px',\r\n      data: {}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(() => {\r\n      console.log('The dialog was closed');\r\n\r\n    });\r\n  }\r\n}\r\n","export default \"<div style=\\\"margin: 0 15px;\\\">\\r\\n  <mat-card style=\\\"background: #8b73ff; \\\">\\r\\n    <form [formGroup]=\\\"QueryForm\\\">\\r\\n      <mat-form-field class=\\\"w-100\\\">\\r\\n        <input matInput formControlName=\\\"Query\\\" placeholder=\\\"A quien estas buscando?\\\">\\r\\n        <button mat-icon-button matSuffix type=\\\"submit\\\">\\r\\n          <i class=\\\"fal fa-search\\\"></i>\\r\\n        </button>\\r\\n      </mat-form-field>\\r\\n    </form>\\r\\n  </mat-card>\\r\\n\\r\\n  <mat-card id=\\\"people-card\\\" style=\\\"background: #efe7ff; color: #5c4ca2\\\">\\r\\n    <ng-container *ngIf=\\\"PeopleResults$ | async; else PeopleLoading\\\">\\r\\n      <mat-card-header>\\r\\n        <mat-card-title>Profesionales:</mat-card-title>\\r\\n        <mat-card-subtitle style=\\\"color: #5c4ca2\\\">Encontrados: {{FilteredResults?.length || PeopleResults?.length}} items</mat-card-subtitle>\\r\\n      </mat-card-header>\\r\\n      <mat-card-content>\\r\\n        <div class=\\\"container-fluidr\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <ng-container *ngFor=\\\"let User of FilteredResults; trackBy:User?.Id\\\">\\r\\n              <div class=\\\"col-6 users-container\\\">\\r\\n                <element-mini-user-card [User]=\\\"User\\\"></element-mini-user-card>\\r\\n              </div>\\r\\n            </ng-container>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-card-content>\\r\\n    </ng-container>\\r\\n    <ng-template #PeopleLoading>\\r\\n      PeopleLoading...\\r\\n    </ng-template>\\r\\n  </mat-card>\\r\\n</div>\";","export default \"  <div class=\\\"row user-box\\\">\\r\\n    <div class=\\\"col-3 user-pic-box MousePointer\\\" (click)=\\\"MyAuth.NavTo('User/'+User.Id)\\\">\\r\\n      <img class=\\\"user-pic\\\" src=\\\"{{User.PhotoURL}}\\\">\\r\\n    </div>\\r\\n    <div class=\\\"col user-name-box\\\">\\r\\n      <span class=\\\"user-name MousePointer\\\" (click)=\\\"MyAuth.NavTo('User/'+User.Id)\\\">{{User.DisplayName}}</span>\\r\\n      <br>\\r\\n      <ng-container *ngIf=\\\"Following$ | async as Following; else FollowLoading\\\">\\r\\n        <ng-container *ngIf=\\\"Following.DocId; else NotFollowing\\\">\\r\\n          <button mat-stroked-button class=\\\"btn-action-mobile\\\" color=\\\"primary\\\" (click)=\\\"UnfollowThisUser()\\\">\\r\\n            <span><i class=\\\"fal fa-user-check\\\"></i> Dejar de seguir</span>\\r\\n          </button>\\r\\n        </ng-container>\\r\\n        <ng-template #NotFollowing>\\r\\n          <button mat-stroked-button class=\\\"btn-action-mobile\\\" (click)=\\\"FollowThisUser()\\\" style=\\\"padding: 0 26px; background: #c3ff73\\\">\\r\\n            <span><i class=\\\"fal far fa-user-plus\\\" ></i> Seguir</span>\\r\\n          </button>\\r\\n        </ng-template>\\r\\n      </ng-container>\\r\\n      <ng-template #FollowLoading>\\r\\n        <button mat-stroked-button class=\\\"btn-action-mobile\\\" disableRipple style=\\\"padding: 0 50px;\\\">\\r\\n          <i class=\\\"fal fa-spinner fa-spin\\\"></i>\\r\\n        </button>\\r\\n      </ng-template>\\r\\n    </div>\\r\\n  </div>\";"],"sourceRoot":"webpack:///"}